---
layout: default
title: 「ULID」って何？
---
    <h1>順番に並べられるID「ULID」って何？</h1>

    <div class="container">
        <p>インターネットのサービスを使っていると、ID（識別子）というものに触れる機会があります。皆さんのアカウントIDや、商品に割り振られたIDなどがそれにあたります。<br>俺のIDは@user123だなと思ったそこのあなた。裏側はもっと機械的に作られたIDで動いていて、その@から始まるIDは人間のための物で、機械のためではありません。</p>
        <p>このIDを作る方法の一つに、<strong>「ULID（ユーリッド）」</strong>という新しい考え方があります。ULIDは、従来のIDと比べて、いくつかの便利な特徴を持っています。</p>
    </div>

    <h2>従来のID（UUID）との違い</h2>
    <div class="container">
        <p>これまでよく使われてきたIDに、<strong>UUID</strong>というものがあります。このUUIDは、ランダムな文字や数字の組み合わせで作られるため、世界中でまったく同じIDが作られることはほぼありません。しかし、いくつかの欠点がありました。</p>
        <ul>
            <li><strong>ランダムすぎて整理しにくい</strong>
                <p>UUIDは完全にランダムに作られるため、IDの並び順がバラバラになってしまいます。ブログ記事の投稿日順に並べたいときも、IDの順番だけではわからず、わざわざ別の場所に「投稿日時」を記録しておく必要がありました。</p>
            </li>
            <li><strong>IDが長すぎる</strong>
                <p>UUIDは36文字と非常に長いため、入力したりメモしたりするのが大変です。例えばこのように。<br>550e8400-e29b-41d4-a716-446655440000</p>
            </li>
            <li><strong>個人情報が含まれる場合がある</strong>
                <p>古いタイプのUUIDには、パソコンやスマホの製造番号（MACアドレス）が含まれることがあり、プライバシーの面で問題になることがありました。</p>
            </li>
        </ul>
    </div>

    <h2>ULIDの優れた点</h2>
    <div class="container">
        <p>そこで、これらの問題を解決するために生まれたのがULIDです。ULIDは、次の2つの部分で構成されています。</p>
        <ul>
            <li><strong>タイムスタンプ（時間情報）</strong></li>
            <li><strong>ランダムな文字列（完全にランダムな部分）</strong></li>
        </ul>
        <p>この2つを組み合わせることで、ULIDは次のようなメリットをもたらします。</p>
        <ul>
            <li><strong>時系列で並べられる</strong>
                <p>ULIDは、IDの先頭に「作られた時間」の情報が含まれています。そのため、IDの順番がそのまま「作られた順番」になります。</p>
            </li>
            <li><strong>短くて扱いやすい</strong>
                <p>ULIDは26文字なので、UUIDよりも短く、扱いやすくなっています。また、文字には「I」「L」「O」「U」といった、見間違いやすい文字が使われていないため、安心してメモしたりコピーしたりできます。</p>
            </li>
        </ul>
    </div>

    <h2>同じ時間にどれくらい作れるの？</h2>
    <div class="container">
        <p>ULIDは時間の情報が含まれていますが、もしも同じミリ秒（1,000分の1秒）の間に、たくさんのIDを作ったらどうなるのでしょうか？</p>
        <p>ULIDのすごさは、このときにも発揮されます。ULIDには<strong>「ランダムな文字列」</strong>の部分が大きく割り当てられており、これによって<strong>1ミリ秒間に約1,210,000,000,000,000,000,000,000個（1.21🗙10<sup>24</sup>個）</strong><br>漢数字にすると<strong>約1𥝱2100垓</strong>ものIDを作ることができます。</p>
        <p>これは、地球上の砂浜の砂粒の総数よりもはるかに多い数です。この圧倒的な数のおかげで、IDが重複してしまう心配はほとんどありません。</p>
        <p>もし同じミリ秒内に複数のIDを作る場合は、ランダムな部分が少しずつずらされて作られるので、順番もちゃんと保たれます。</p>
    </div>

    <h2>パスワードとの共通点</h2>
    <div class="container">
        <p>「パスワードは長くないとだめ」という考え方は正しいです。パスワードが短いと、悪い人が総当たりで簡単に推測できてしまいます。</p>
        <p>ULIDの「ランダムな文字列」の部分も同じ考え方です。時間の情報だけでは、同じタイミングで大量のULIDが作られたときにIDが重複してしまう可能性があります。そこで、<strong>ランダムな文字列を長めに含める</strong>ことで、絶対に重複しない、安全なIDを作ることができるのです。</p>
    </div>

    <h2>まとめ</h2>
    <div class="container">
        <p>ULIDは、<strong>「作られた時間を手掛かりに、ちゃんと並べられるID」</strong>です。これは、IDを扱う開発者にとって非常に便利な特徴であり、データの整理や検索を効率的に行うための新しい技術として、多くのサービスで採用され始めています。</p>
    </div>
    <p>もっと詳しく知りたい方は、<a href="https://github.com/ulid/spec" target="_blank" rel="noopener">ULID公式仕様(英語)</a> を参照してください。
<a href="https://github.com/ulid/spec" target="_blank" rel="noopener">ULID公式仕様</a> を参照してください。