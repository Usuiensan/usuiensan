/\*\*

- ========================================
- PDF ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒƒãƒ”ãƒ³ã‚° - å®Œå…¨æ€§ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- ========================================
-
- åŒ»ç™‚è²»é ˜åè¨¼æ˜æ›¸ãƒ•ã‚©ãƒ¼ãƒ  â†’ PDFæ›¸ãè¾¼ã¿ã®å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åº§æ¨™å®šç¾©ã®ç¢ºèª
  \*/

âœ… ã€å®Œå…¨ã«å®šç¾©æ¸ˆã¿ã€‘

ã€å…±é€šæƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘
âœ… faculty (å­¦éƒ¨ãƒ»ç ”ç©¶ç§‘) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 760)
âœ… grade (å¹´æ¬¡) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (400, 760)
âœ… studentNumber (å­¦ç”Ÿè¨¼ç•ªå·) - 6æ¡ãƒã‚¹å…¥åŠ› (125-235, 700)
âœ… studentName (æ°å) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 745)
âœ… studentNameKana (ãƒ•ãƒªã‚¬ãƒŠ) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 730)
âœ… mobilePhone (æºå¸¯é›»è©±) - 3éƒ¨åˆ†é›»è©±ç•ªå· (70/110/160, 680)
âœ… fixedPhone (å›ºå®šé›»è©±) - 3éƒ¨åˆ†é›»è©±ç•ªå· (70/120/175, 665)
âœ… addressType (ä½æ‰€åŒºåˆ†) - â—‹å††ã®ä¸­å¿ƒ (85/160/240, 640)

ã€å—ä»˜ç•ªå·ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘
âœ… receiptNumbers (å—ä»˜ç•ªå·) - è¤‡æ•°ãƒ†ã‚­ã‚¹ãƒˆ (baseX:100, baseY:370, spacing:80)

ã€å‚·ç—…æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘
âœ… diseaseName (å‚·ç—…å) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 620)

ã€è² å‚·æƒ…å ±ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘
âœ… injuryContext (è² å‚·çŠ¶æ³) - âœ“ãƒãƒ¼ã‚¯ (90/180/280/385/480/540, 595)
â”œâ”€ æ­£èª²ä¸­
â”‚ âœ… subjectName (ç§‘ç›®å) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 575)
â”œâ”€ å¤§å­¦è¡Œäº‹ä¸­
â”‚ âœ… eventName (è¡Œäº‹å) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 575)
â”œâ”€ èª²å¤–æ´»å‹•ä¸­
â”‚ âœ… clubName (å›£ä½“å) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 575)
â””â”€ äº¤é€šäº‹æ•…
âœ… accidentParty (ç›¸æ‰‹æœ‰ç„¡) - â—‹å††ã®ä¸­å¿ƒ (90/170, 510)

âœ… injuryLocation (ã‘ãŒã®å ´æ‰€) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 560)
âœ… injuryCause (åŸå› ) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 545)
âœ… injuryDate (è² å‚·æ—¥) - å¹´æœˆæ—¥åˆ†å‰² (100/145/185, 525)

ã€é‡‘èæ©Ÿé–¢ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã€‘
âœ… bankTransferType (æŒ¯è¾¼å…ˆé¸æŠ) - â—‹å††ã®ä¸­å¿ƒ (85/200/270, 480)
â”œâ”€ æ–°è¦
â”‚ âœ… bankName (é‡‘èæ©Ÿé–¢å) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 455)
â”‚ âœ… branchName (æ”¯åº—å) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 440)
â”‚ âœ… bankCode (éŠ€è¡Œã‚³ãƒ¼ãƒ‰) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 425)
â”‚ âœ… branchCode (æ”¯åº—ã‚³ãƒ¼ãƒ‰) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (170, 425)
â”‚ âœ… accountName (å£åº§åç¾©) - ãƒ†ã‚­ã‚¹ãƒˆå·¦ä¸‹ (100, 410)
â”‚ âœ… accountNumber (å£åº§ç•ªå·) - 7æ¡ãƒã‚¹å…¥åŠ› (310-442, 395)
â””â”€ å¤‰æ›´
âœ… (ä¸Šè¨˜ã¨åŒã˜)

---

ğŸ“Š ã€åº§æ¨™å®šç¾©çµ±è¨ˆã€‘

ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: 13å€‹

- faculty, grade, studentName, studentNameKana
- diseaseName, subjectName, eventName, clubName
- injuryLocation, injuryCause
- bankName, branchName, accountName
- bankCode, branchCode

è¤‡æ•°éƒ¨ä½ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: 5å€‹

- studentNumber (6æ¡ãƒã‚¹)
- mobilePhone (3éƒ¨åˆ†é›»è©±)
- fixedPhone (3éƒ¨åˆ†é›»è©±)
- injuryDate (3éƒ¨åˆ†æ—¥ä»˜)
- accountNumber (7æ¡ãƒã‚¹)

ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³(â—‹æç”»): 4å€‹

- addressType (3æŠ)
- injuryContext (6æŠ: ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯)
- bankTransferType (3æŠ)
- accidentParty (2æŠ)

ãƒªã‚¹ãƒˆ: 1å€‹

- receiptNumbers (æœ€å¤§4ä»¶)

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
åˆè¨ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰: 23å€‹

---

âœ… ã€preparePDFData() é–¢æ•°ã®å‡¦ç†ç¢ºèªã€‘

æ•´å½¢æ¸ˆã¿:
âœ… faculty, grade, studentName, studentNameKana
âœ… studentNumber â†’ 6è¦ç´ ã®é…åˆ—
âœ… mobilePhone â†’ {area, exchange, subscriber}
âœ… fixedPhone â†’ {area, exchange, subscriber}
âœ… addressType â†’ {value, label, x, y, radius}
âœ… diseaseName
âœ… injuryContext â†’ {value, label, x, y}
âœ… subjectName, eventName, clubName
âœ… injuryLocation, injuryCause
âœ… injuryDate â†’ {year, month, day}
âœ… accidentParty â†’ {value, label, x, y, radius}
âœ… bankTransferType â†’ {value, label, x, y, radius}
âœ… bankName, branchName, bankCode, branchCode, accountName
âœ… accountNumber â†’ 7è¦ç´ ã®é…åˆ—ï¼ˆå³ã¥ã‚ï¼‰
âœ… receiptNumbers â†’ é…åˆ—

---

âœ… ã€åº§æ¨™åŸºæº–ç‚¹ã®ç¢ºèªã€‘

ãƒ†ã‚­ã‚¹ãƒˆ(drawText):
åŸºæº–ç‚¹ã¯æ–‡å­—åˆ—ã®ã€Œå·¦ä¸‹ã‚³ãƒ¼ãƒŠãƒ¼ã€
ä¾‹: x=100, y=700 â†’ æ–‡å­—ã®å·¦ç«¯(x=100)ã¨ä¸‹ç«¯(y=700)ã‹ã‚‰å³ä¸Šã¸ä¼¸ã³ã‚‹

ãƒã‚¹å…¥åŠ›(æ•°å­—1å€‹ãšã¤):
åŸºæº–ç‚¹ã¯æ•°å­—ã®ã€Œå·¦ä¸‹ã‚³ãƒ¼ãƒŠãƒ¼ã€
ä¾‹: positions[i] = {x: 125, y: 700} â†’ iç•ªç›®ã®æ•°å­—ã®å·¦ä¸‹ãŒ(125, 700)

ãƒ©ã‚¸ã‚ªãƒœã‚¿ãƒ³ãƒ»ãƒã‚§ãƒƒã‚¯(â—‹ã§å›²ã‚€):
åŸºæº–ç‚¹ã¯å††ã®ã€Œä¸­å¿ƒã€
ä¾‹: x=85, y=640, radius=5 â†’ ä¸­å¿ƒãŒ(85, 640)ã§åŠå¾„5ptã®å††

ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯(âœ“):
åŸºæº–ç‚¹ã¯è¨˜å·ã®ã€Œå·¦ä¸‹ã‚³ãƒ¼ãƒŠãƒ¼ã€
ä¾‹: x=90, y=595 â†’ âœ“ã®å·¦ä¸‹ãŒ(90, 595)

---

âœ… ã€æ¡ä»¶ä»˜ããƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®æ³¨è¨˜ã€‘

ä»¥ä¸‹ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯æ¡ä»¶ã«åŸºã¥ã„ã¦è¡¨ç¤º/éè¡¨ç¤ºãŒæ±ºã¾ã‚Šã¾ã™ï¼š

â— subjectName / eventName / clubName
æ¡ä»¶: injuryContext ã®å€¤ã«å¿œã˜ã¦

- injuryContext === "æ­£èª²ä¸­" â†’ subjectName ã‚’è¡¨ç¤º
- injuryContext === "å¤§å­¦è¡Œäº‹ä¸­" â†’ eventName ã‚’è¡¨ç¤º
- injuryContext === "èª²å¤–æ´»å‹•ä¸­" â†’ clubName ã‚’è¡¨ç¤º
- ãã‚Œä»¥å¤– â†’ éè¡¨ç¤º

â— accidentParty
æ¡ä»¶: injuryContext === "äº¤é€šäº‹æ•…" ã®å ´åˆã®ã¿è¡¨ç¤º

â— bankName, branchName, bankCode, branchCode, accountName, accountNumber
æ¡ä»¶: bankTransferType !== "previous" ã®å ´åˆã®ã¿è¡¨ç¤º

- bankTransferType === "new" â†’ æ–°è¦æƒ…å ±ã‚’å…¥åŠ›ãƒ»è¡¨ç¤º
- bankTransferType === "change" â†’ å¤‰æ›´æƒ…å ±ã‚’å…¥åŠ›ãƒ»è¡¨ç¤º
- bankTransferType === "previous" â†’ å‰å›æƒ…å ±ãªã®ã§å…¥åŠ›ãªã—

---

âœ… ã€å®Ÿè£…æ™‚ã®æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã€‘

PDFæ›¸ãè¾¼ã¿é–¢æ•°ã®å®Ÿè£…ã§ã¯ã€ä»¥ä¸‹ã‚’è¡Œã„ã¾ã™ï¼š

1. pdfData ã®å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’èª­ã¿è¾¼ã‚€
2. PDF_FIELD_MAPPINGS ã‹ã‚‰åº§æ¨™ã¨è¨­å®šã‚’å–å¾—
3. PDF-LIB ã® API ã§æç”»:
   - drawText() â†’ ãƒ†ã‚­ã‚¹ãƒˆæ›¸ãè¾¼ã¿
   - drawCircle() â†’ â—‹æç”»
   - drawText('âœ“') â†’ ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯æç”»
4. æ¡ä»¶ä»˜ããƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ conditional ãƒã‚§ãƒƒã‚¯ã®å¾Œã«å‡¦ç†
5. è¤‡æ•°éƒ¨ä½ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆé›»è©±ã€æ—¥ä»˜ã€ãƒã‚¹æ•°å­—ï¼‰ã¯å„ãƒ‘ãƒ¼ãƒˆã‚’å€‹åˆ¥ã«æç”»

---

âœ… ã€å®Œå…¨æ€§ç¢ºèªçµè«–ã€‘

âœ… ã™ã¹ã¦ã®å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã§åº§æ¨™å®šç¾©ã‚ã‚Š
âœ… å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒ preparePDFData() ã§å‡¦ç†ã•ã‚Œã‚‹
âœ… æ¡ä»¶ä»˜ããƒ­ã‚¸ãƒƒã‚¯ã‚‚å¯¾å¿œæ¸ˆã¿
âœ… åº§æ¨™åŸºæº–ç‚¹ãŒæ˜ç¢ºã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹

â†’ PDFæ›¸ãè¾¼ã¿ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…ã®æº–å‚™å®Œäº†
