---
layout: default
title: Git 基本操作と共同開発ガイド
---

# Git 基本操作と共同開発ガイド

このガイドでは、Gitを使った日々の開発ワークフローと、共同開発における注意点について説明します。

## 1. リポジトリの作成とクローン

Gitで変更履歴の管理を始めるには、まずリポジトリ（Gitが管理するプロジェクトの単位）を用意します。

### 1.1 新しいプロジェクトをGitで管理する (`git init`)

既存のフォルダをGitで管理し始める場合に使います。

1.  管理したいプロジェクトフォルダに移動します。
    ```bash
    cd /path/to/your/new-project
    ```
2.  Gitリポジトリとして初期化します。
    ```bash
    git init
    ```
    これにより、プロジェクトフォルダ内に `.git` という隠しフォルダが作成され、Gitの管理が始まります。

### 1.2 既存のプロジェクトをコピーする (`git clone`)

GitHubなどにある既存のリモートリポジトリを自分のPC（ローカル）にコピーしてくる場合に使います。

```bash
git clone [リポジトリのURL]
```

**例:**
```bash
git clone [https://github.com/your-username/your-repository.git](https://github.com/your-username/your-repository.git)
```
このコマンドを実行すると、指定したURLのリポジトリが現在のディレクトリにダウンロードされ、同時にGitの管理も始まります。

## 2. 日々の基本的なワークフロー

Gitを使った開発の基本的なサイクルは「変更 → ステージング → コミット」です。

### 2.1 変更の確認 (`git status`)

どのファイルが変更されたか、Gitに認識されているかを確認します。

```bash
git status
```

* **赤色表示:** まだステージングされていない（Gitにコミット準備ができていない）変更。
* **緑色表示:** ステージング済み（コミット準備が完了している）の変更。

### 2.2 変更のステージング (`git add`)

コミットに含めたい変更を「ステージ（追加）」します。これにより、変更がコミットの対象となります。

* **特定のファイルを追加:**
    ```bash
    git add ファイル名
    ```
    例:
    ```bash
    git add index.html style.css
    ```
* **すべての変更を追加:**
    ```bash
    git add .
    ```
    > [!TIP]
    > `git add .` は便利ですが、意図しないファイル（例えば、一時ファイルやビルド生成物）まで追加してしまう可能性があります。慣れないうちは、`git status` で変更を確認し、`git add ファイル名` で一つずつ追加する方が安全です。

### 2.3 変更のコミット (`git commit`)

ステージングされた変更をリポジトリの履歴に記録します。コミットは、プロジェクトの「スナップショット」を保存するようなものです。

```bash
git commit -m "コミットメッセージ"
```

* `-m` オプションの後に、そのコミットで行った変更の内容を**簡潔かつ分かりやすく**記述します。
* **良いコミットメッセージの例:**
    * `feat: 新機能Xを追加` (新機能)
    * `fix: バグYを修正` (バグ修正)
    * `docs: READMEを更新` (ドキュメント関連)
    * `style: CSSのレイアウトを調整` (見た目の調整)
    * `refactor: コードをリファクタリング` (内部構造の改善)
    * `chore: ビルド設定を更新` (ビルドやツール関連)

> [!NOTE]
> コミットは細かく頻繁に行うのがおすすめです。これにより、問題が発生した際に原因を特定しやすくなります。

## 3. リモートリポジトリとの連携

GitHubなどのリモートリポジトリとローカルリポジトリの間で変更を同期します。

### 3.1 リモートへのプッシュ (`git push`)

ローカルリポジトリのコミットをリモートリポジトリに送信し、共有します。

```bash
git push origin [ブランチ名]
```

**例:**
```bash
git push origin main
```

* 初めてブランチをプッシュする場合や、ローカルブランチとリモートブランチの関連付け（追跡設定）がない場合、VS Codeの「ブランチの発行」機能を使うか、以下のコマンドを実行します。
    ```bash
    git push --set-upstream origin [ブランチ名]
    ```
    これにより、次回以降はそのブランチで単純に `git push` と打つだけで済むようになります。

### 3.2 リモートからのプル (`git pull`)

リモートリポジトリの最新の変更をローカルリポジトリに取り込みます。共同開発では、作業を始める前に必ず実行すべきコマンドです。

```bash
git pull origin [ブランチ名]
```

**例:**
```bash
git pull origin main
```
* これは `git fetch` (リモートの変更を取得) と `git merge` (取得した変更をローカルに統合) の組み合わせです。

## 4. ブランチの活用

ブランチは、メインの開発ラインから分岐して、独立した作業を行うための機能です。これにより、複数の機能を同時に開発したり、安全に実験的な変更を加えたりできます。

### 4.1 ブランチの確認 (`git branch`)

現在あるブランチの一覧と、現在作業中のブランチを確認します。

```bash
git branch
```
* 現在作業中のブランチには `*` が付きます。

### 4.2 新しいブランチの作成と切り替え (`git checkout -b`)

新しいブランチを作成し、すぐにそのブランチに切り替えます。

```bash
git checkout -b 新しいブランチ名
```

**例:**
```bash
git checkout -b feature/new-design
```
> [!TIP]
> 新しい機能やバグ修正に取り組む際は、必ず新しいブランチを切って作業しましょう。`main` ブランチで直接作業するのは避け、常に安定した状態を保つように心がけます。

### 4.3 ブランチの切り替え (`git checkout`)

作業するブランチを切り替えます。

```bash
git checkout 切り替えたいブランチ名
```

### 4.4 ブランチのマージ (`git merge`)

別のブランチで行った変更を現在のブランチに統合します。

1.  変更を取り込みたいブランチに切り替えます (例: `main`)。
    ```bash
    git checkout main
    ```
2.  取り込みたいブランチをマージします (例: `feature/new-design`)。
    ```bash
    git merge feature/new-design
    ```
    * **競合 (`conflict`) の発生:** 同じファイルの同じ行が異なる変更をされた場合に発生します。
        * 競合が発生すると、ファイル内に `<<<<<<<`, `=======`, `>>>>>>>` といった特殊なマークが表示されます。
        * 手動でファイルを編集し、どちらの変更を残すか、または両方を統合するかを決定します。
        * 競合を解決したら、ファイルを保存し、`git add 解決済みファイル名` (または `git add .`) を実行します。
        * 最後に `git commit` を実行して、解決をコミットします。

### 4.5 ブランチの削除 (`git branch -d`)

マージが完了し、不要になったブランチを削除します。

```bash
git branch -d 削除したいブランチ名
```
* 未マージの変更があるブランチを強制的に削除する場合は `-D` オプションを使います（注意して使用してください）。
    ```bash
    git branch -D 削除したいブランチ名
    ```

## 5. 共同開発における注意点とベストプラクティス

### 5.1 プルリクエスト (Pull Request: PR) の活用

共同開発では、自分のブランチで作業した内容を `main` ブランチなどの共有ブランチに直接マージするのではなく、**プルリクエスト**を作成するのが一般的です。

* **目的:** 自分の変更を他の開発者にレビューしてもらい、問題がないか、コードの品質はどうかなどを確認するプロセスです。
* **流れ:**
    1.  自分のブランチで作業し、コミットしてリモートにプッシュします。
    2.  GitHubなどのプラットフォームで、自分のブランチから `main` ブランチへのプルリクエストを作成します。
    3.  他の開発者がコードをレビューし、コメントや修正依頼を出します。
    4.  レビューが完了し、承認されたら、プルリクエストをマージします。

### 5.2 `_site` やキャッシュファイルの除外 (`.gitignore`)

Jekyllのような静的サイトジェネレーターを使う場合、ビルド生成物（`_site` ディレクトリなど）やキャッシュファイルはGitの管理に含めるべきではありません。

> [!IMPORTANT]
> プロジェクトのルートディレクトリに `.gitignore` ファイルを作成し、Gitに追跡させたくないファイルやディレクトリを記述します。
>
> **例 (`.gitignore` の内容):**
> ```
> _site/
> .jekyll-cache/
> .sass-cache/
> .bundle/
> vendor/
> ```
> もし既にこれらのファイルがGitに追跡されてしまっている場合は、以下のコマンドで追跡解除してからコミットしてください。
> ```bash
> git rm -r --cached _site/
> ```

### 5.3 頻繁なコミットとプッシュ

* **コミット:** 小さな機能追加やバグ修正ごとに細かくコミットすることで、変更履歴が分かりやすくなり、問題発生時の原因特定や変更の取り消しが容易になります。
* **プッシュ:** 自分のブランチの変更をリモートに頻繁にプッシュすることで、他の開発者と最新の状況を共有し、コンフリクトを小さく保つことができます。

### 5.4 コミットメッセージを明確に

前述の通り、コミットメッセージは変更内容を簡潔かつ具体的に記述します。これは、他の開発者（そして未来の自分）が履歴を理解する上で非常に重要ですす。

### 5.5 `main` ブランチの保護

> [!WARNING]
> 共同開発では、`main` ブランチ（またはそれに相当する安定版ブランチ）に**直接プッシュする**のは避けるべきです。常にプルリクエストを通じて変更を統合し、レビュープロセスを経るようにしましょう。GitHubの設定で `main` ブランチを保護し、直接プッシュを禁止することも可能です。

### 5.6 強制プッシュ (`git push --force`) は避ける

> [!CAUTION]
> `git push --force` は、リモートリポジトリの履歴を上書きする強力なコマンドです。他の開発者の作業を破壊する可能性があるため、**共同開発では絶対に避けるべきです。** 自分のローカル履歴を大きく変更した場合（例: `git rebase` 後など）に必要になることがありますが、その場合でもチーム内で十分に合意形成が必要です。

### 5.7 `git pull --rebase` の検討（上級者向け）

`git pull` の代わりに `git pull --rebase` を使うことで、マージコミットを減らし、より直線的なコミット履歴を保つことができます。ただし、これにはリベースの概念を理解している必要があります。

---

このガイドが、Gitを使った開発と共同作業の一助となれば幸いです。
